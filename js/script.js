// Generated by CoffeeScript 1.7.1
(function() {
  var container, easeOutQuart, easing, mouseX, pageWidth, parallaxWidth, perspectiveOriginKey, resize, update;

  easeOutQuart = function(d) {
    return function(t) {
      return -(Math.pow(t / d - 1, 4) - 1);
    };
  };

  easing = easeOutQuart(1.8);

  mouseX = void 0;

  container = void 0;

  perspectiveOriginKey = 'perspectiveOrigin';

  pageWidth = void 0;

  parallaxWidth = void 0;

  resize = function() {
    pageWidth = $('body').outerWidth();
    return parallaxWidth = pageWidth * 0.6;
  };

  $(document).ready(function() {
    container = document.body;
    if (container.style.webkitPerspectiveOrigin != null) {
      perspectiveOriginKey = 'webkitPerspectiveOrigin';
    }
    resize();
    return $(document).on('mousemove', function(event) {
      if (mouseX !== event.pageX) {
        update();
      }
      return mouseX = event.pageX;
    });
  });

  $(document).resize(resize);

  update = function() {
    var p;
    p = Math.min(+1.0, Math.max(-1.0, (mouseX - pageWidth / 3) / parallaxWidth * 2));
    return container.style[perspectiveOriginKey + 'X'] = p * 50 + 'px';
  };

}).call(this);
